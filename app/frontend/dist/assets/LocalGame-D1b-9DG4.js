import{u as _,r as s,c as B,j as e,L as F}from"./index-DKFyDtO4.js";/* empty css             */import{C as W}from"./react-confetti.min-DTfgXLFg.js";import{G as Y,T as q}from"./GameScore-BjMi0Jnl.js";import{P as G,a as D}from"./PongTable-ZOSRQ98M.js";const H=({winner:l,onRestart:a,onClose:n})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-10"}),e.jsxs("div",{className:`absolute top-[44%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 lp:px-10 px-3 z-20
			flex flex-col justify-center items-center gameoverpopup`,children:[l?e.jsx("h1",{className:"font-dreamscape",children:"VICTORY ACHIEVED"}):e.jsx("h1",{className:"font-dreamscape",children:"GAME OVER"}),l?e.jsxs("div",{className:"font-heavy",children:[e.jsx("p",{className:"text-left",children:"Cosmic Champion:"}),e.jsx("h3",{className:"players-usernames font-dreamscape-sans pt-3 pb-7 text-center glow drop-shadow-[0_2px_10px_rgba(255,206,158,0.5)]",children:l.name}),e.jsx("p",{className:"text-center",children:"Your stellar skills have conquered the arena!"})]}):e.jsx("p",{className:"font-medium",children:"A cosmic deadlock! The match ends in a tie."}),e.jsxs("div",{className:"w-full flex justify-between my-10 lg:gap-10 gap-6",children:[e.jsx("button",{onClick:a,className:`font-dreamscape bg-primary text-secondary py-3 flex-1 rounded
					hover:scale-[1.03] hover:brightness-100 transition-all duration-300 ease-in-out`,children:"Play Again"}),e.jsx("button",{onClick:n,className:`font-heavy text-primary py-3 border border-border rounded flex-1
					bg-[rgb(183,170,156,12%)] transition-all duration-300 ease-in-out hover:bg-[rgb(183,170,156,30%)]`,children:"Personalize Game"})]})]})]}),X=()=>{const l=_(),[a,n]=s.useState(!1),[d,y]=s.useState(!1),[h,v]=s.useState(0),[b,N]=s.useState(0),[w,S]=s.useState(!1),[P,C]=s.useState(null),R=B(),{mode:i,player1:t,player2:r,ballColor:f,duration:c,backgroundId:u,paddleSize:p,ballSize:x}=R.state||{};if(s.useEffect(()=>{(!i||!t||!r||!f||!u||!p||!x||!c)&&l("/dashboard",{replace:!0})},[i,t,r,f,c,u,p,x,l]),!i||!t||!r||!f||!u||!p||!x||!c)return e.jsx(F,{});const[g,I]=s.useState(c||60),[E,j]=s.useState(!1),[k,O]=s.useState(!1),T=()=>{d||n(!a)},z=o=>{o===2?N(m=>m+1):o===1&&v(m=>m+1)};s.useEffect(()=>{if(!(a||d))if(g>0){const o=setInterval(()=>{I(m=>m-1)},1e3);return()=>clearInterval(o)}else g===0&&V()},[g,a,d]);const A=()=>h>b?t:b>h?r:null,L=()=>{j(!1),l("/local-game-setup")},M=()=>{v(0),N(0),I(c||60),y(!1),n(!1),j(!1),O(o=>!o),C(null)},V=()=>{y(!0),n(!1),j(!0),C(A()),S(!0),setTimeout(()=>S(!1),5e3)};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:`relative flex-1 margin-page flex flex-col items-center gap-8 ${a?"bg-backdrop-40":""}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Y,{player1Score:h,player2Score:b,isPaused:a}),e.jsx(q,{isPaused:a,timeRemaining:g})]}),e.jsxs("div",{className:"relative w-full flex justify-center font-dreamscape-sans",children:[e.jsx(G,{id:1,isPaused:a,PlayerName:t.name,BadgeName:t.badge,playerImage:t.image,badgeImage:t.badgeImage,GameMode:i}),e.jsx(G,{id:2,isPaused:a,PlayerName:r.name,BadgeName:r.badge,playerImage:r.image,badgeImage:r.badgeImage,GameMode:i}),e.jsx(D,{isPaused:a,handlePause:T,backgroundId:u,updateScore:z,isGameOver:d,resetParameters:k,player1Color:t.color,player2Color:r.color,ballColor:f,paddleSize:p,ballSize:x})]}),E&&e.jsx(H,{winner:P,onRestart:M,onClose:L}),P&&w&&e.jsx(W,{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:20},recycle:!1,numberOfPieces:500})]})})};export{X as default};
