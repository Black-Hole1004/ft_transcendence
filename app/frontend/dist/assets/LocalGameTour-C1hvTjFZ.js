import{u as U,i as X,r as s,c as Z,j as e,L as ee}from"./index-DKFyDtO4.js";/* empty css             */import{C as ae}from"./react-confetti.min-DTfgXLFg.js";import{G as se,T as te}from"./GameScore-BjMi0Jnl.js";import{P as D,a as re}from"./PongTable-ZOSRQ98M.js";const ne=({winner:i,onQuit:S,onProceed:y})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-10"}),e.jsxs("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20
			flex flex-col justify-center items-center gameoverpopup`,children:[i?e.jsx("h1",{className:"font-dreamscape",children:"VICTORY ACHIEVED"}):e.jsx("h1",{className:"font-dreamscape",children:"GAME OVER"}),i?e.jsxs("div",{className:"font-heavy mb-20",children:[e.jsx("p",{className:"text-left text-2xl",children:"Cosmic Champion:"}),e.jsx("h3",{className:"players-usernames font-dreamscape-sans pt-3 pb-7 text-center glow drop-shadow-[0_2px_10px_rgba(255,206,158,0.5)]",children:i.name}),e.jsx("p",{className:"text-lg text-center",children:"Your stellar skills have conquered the arena!"})]}):e.jsx("p",{className:"text-2xl font-medium mb-20",children:"A cosmic deadlock! The match ends in a tie."}),e.jsxs("div",{className:"w-full flex justify-between my-10 lg:gap-10 gap-6",children:[e.jsx("button",{onClick:S,className:`font-dreamscape bg-primary text-secondary py-3 flex-1 rounded
					hover:scale-[1.03] hover:brightness-100 transition-all duration-300 ease-in-out`,children:"Quit The Tournament"}),e.jsx("button",{onClick:y,className:`font-heavy text-primary py-3 border border-border rounded flex-1
					bg-[rgb(183,170,156,12%)] transition-all duration-300 ease-in-out hover:bg-[rgb(183,170,156,30%)]`,children:"Proceed To The Next Round"})]})]})]}),xe=()=>{const i=U(),{setSemiFinal1winner:S,setSemiFinal2winner:y,setFinalWinner:L,setTournamentState:v,resetTournament:W,setTournamentData:A,tournamentScores:oe,setTournamentScores:R}=X(),[P,N]=s.useState(!1),[o,T]=s.useState(!1),[u,I]=s.useState(!1),[c,C]=s.useState(0),[m,w]=s.useState(0),[M,le]=s.useState(!1),[E,V]=s.useState(null),_=Z(),{mode:d,player1:r,player2:n,ballColor:f,duration:x,backgroundId:p,paddleSize:h,ballSize:g,tournamentRound:l}=_.state||{};if(s.useEffect(()=>{(!d||!r||!n||!f||!p||!h||!g||!x||!l)&&i("/dashboard",{replace:!0})},[d,r,n,f,x,p,h,g,i,l]),!d||!r||!n||!f||!p||!h||!g||!x||!l)return e.jsx(ee,{});const[b,k]=s.useState(x||60),[q,O]=s.useState(!1),[B,ie]=s.useState(!1),[j,F]=s.useState(null),Q=()=>{u||T(!o)},Y=a=>{if(P){const t=a===1?r:n;F(t),a===1?C(G=>G+1):a===2&&w(G=>G+1),z(t);return}a===2?w(t=>t+1):a===1&&C(t=>t+1)};s.useEffect(()=>{if(!(o||u))if(b>0){const a=setInterval(()=>{k(t=>t-1)},1e3);return()=>clearInterval(a)}else b===0&&K()},[b,o,u]);const H=()=>c>m?r:m>c?n:l?P&&j?j:(N(!0),I(!1),k(30),null):null,$=()=>{O(!1),R(a=>({...a,[l]:{player1Score:c,player2Score:m}})),i("/Tournament",{replace:!0})},J=()=>{R(a=>({...a,[l]:{player1Score:c,player2Score:m}})),W(),A(null),i("/dashboard")},K=()=>{const a=H();if(!a&&l){N(!0),k(30),I(!1),T(!1),F(null);return}P&&j&&(j===r?C(t=>t+1):w(t=>t+1)),z(a)},z=a=>{if(I(!0),T(!1),O(!0),V(a),N(!1),!!l)switch(l){case"semifinal1":S(a),v("semifinal2");break;case"semifinal2":y(a),v("final");break;case"final":L(a),v("completed");break}};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:`relative flex-1 margin-page flex flex-col items-center gap-8 ${o?"bg-backdrop-40":""}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(se,{player1Score:c,player2Score:m,isPaused:o}),e.jsx(te,{isPaused:o,timeRemaining:b})]}),e.jsxs("div",{className:"relative w-full flex justify-center font-dreamscape-sans",children:[e.jsx(D,{id:1,isPaused:o,PlayerName:r.name,BadgeName:r.badge,playerImage:r.image,badgeImage:r.badgeImage,GameMode:d}),e.jsx(D,{id:2,isPaused:o,PlayerName:n.name,BadgeName:n.badge,playerImage:n.image,badgeImage:n.badgeImage,GameMode:d}),e.jsx(re,{isPaused:o,handlePause:Q,backgroundId:p,updateScore:Y,isGameOver:u,resetParameters:B,player1Color:r.color,player2Color:n.color,ballColor:f,paddleSize:h,ballSize:g})]}),q&&e.jsx(ne,{winner:E,onQuit:J,onProceed:$}),E&&M&&e.jsx(ae,{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:20},recycle:!1,numberOfPieces:500})]})})};export{xe as default};
