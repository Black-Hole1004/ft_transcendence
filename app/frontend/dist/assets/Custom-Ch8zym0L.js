import{r as m,c as h,u as j,j as e}from"./index-DKFyDtO4.js";import{B as v}from"./Button-DqdRYTCJ.js";const u=({mode:t,handleGameModeSelect:r})=>e.jsxs("div",{className:`relative mode-card text-primary border border-primary rounded mtb:w-[48%] w-[80%] max-mtb:max-w-[350px]
			overflow-hidden hover:text-transparent aspect-video bg-opacity-90 transition ease-in duration-300`,children:[e.jsx("img",{src:"assets/images/remote.webp",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 brightness-[60%] select-none pointer-events-none",alt:""}),e.jsx("p",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
			pt-1 mode-title  font-dreamscape`,children:t==="remote"?"Online Battle":"Local Battle"}),e.jsxs("div",{className:`overlay absolute left-0 bottom-0 w-full h-0 bg-gradient-to-b from-transparent to-[#0b0b0b]
			text-primary flex flex-col items-center justify-center text-center opacity-0 transition-all duration-500 ease-in-out`,children:[e.jsx("p",{className:"mode-title font-dreamscape-sans",children:t==="remote"?"Online Battle":"Local Battle"}),e.jsx("p",{className:"mode-description mb-8",children:t==="remote"?"Play online with others.":"Play on the same device."}),e.jsx(v,{onClick:()=>r(t),className:"rounded border-border font-medium buttons-text start-battle mode-description",children:"Start Battle"})]})]}),S=()=>{var c;const[t,r]=m.useState(1),b=(c=h().state)==null?void 0:c.mode,[l,p]=m.useState(1),o=j(),x=()=>{b==="training"?o("/ai-game",{state:{backgroundId:t}}):p(2)},f=s=>{r(s)},n=s=>{var i;if(s==="local")o("/local-game-setup",{state:{backgroundId:t}});else{const d=(i=document.cookie.split(";").find(a=>a.trim().startsWith("access_token=")))==null?void 0:i.split("=")[1];if(!d){console.error("No access token found in cookies");return}try{const g=JSON.parse(atob(d.split(".")[1])).user_id;o("/matchmaking",{state:{backgroundId:t,currentUser:{id:g}}})}catch(a){console.error("Error decoding JWT token:",a)}}};return e.jsxs("section",{className:"flex flex-col",children:[l===1&&e.jsxs("div",{className:"page-margin",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"lp:border-2 border border-primary overflow-hidden selected-table mtb:w-select-table w-full rounded-2xl relative",style:{background:`url(/assets/images/tables/table${t}.${t>6?"gif":"webp"})`,backgroundSize:"cover"},children:e.jsxs("div",{className:"w-full h-full flex justify-center items-center bg-backdrop-40",children:[e.jsx("div",{className:"absolute left-3 paddles bg-primary rounded-full left-paddle"}),e.jsx("div",{className:"absolute right-3 paddles bg-primary rounded-full right-paddle"}),e.jsx("button",{onClick:x,className:"font-dreamscape start-button animation-pulse",children:"Start"})]})},t)}),e.jsx("div",{className:"select-message flex justify-center items-center",children:e.jsx("h1",{className:"font-dreamscape-sans",children:"Select Table"})}),e.jsx("div",{className:"grid xl:gap-8 gap-4 lg:grid-cols-4 lg:grid-rows-2 lp:grid-cols-3 lp:grid-rows-3 grid-cols-2 grid-rows-4",children:[1,2,3,4,5,6,7,8].map(s=>e.jsx("button",{onClick:()=>f(s),className:"border border-primary rounded-xl overflow-hidden outline-none hover:scale-[1.05] transition duration-500 aspect-video",style:{background:`url(/assets/images/tables/table${s}.${s>6?"gif":"webp"})`,backgroundSize:"cover"}},s))})]}),l===2&&e.jsxs("div",{className:"rounded-lg self-center mt-36 tb:w-custom ml:w-[92%] w-[96%]",children:[e.jsx("h2",{className:"text-2xl font-dreamscape-sans mt-6 mb-10 custom-title",children:"Choose Game Mode"}),e.jsxs("div",{className:"flex-1 flex max-mtb:flex-col mtb:justify-between items-center gap-8 mb-12",children:[e.jsx(u,{mode:"remote",handleGameModeSelect:n}),e.jsx(u,{mode:"local",handleGameModeSelect:n})]})]})]})};export{S as default};
