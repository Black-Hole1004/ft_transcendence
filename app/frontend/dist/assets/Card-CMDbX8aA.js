import{j as e,a as u,r as x}from"./index-DKFyDtO4.js";const C=({iconPath:o,type:l,placeholder:t,value:n,onChange:c})=>e.jsxs("div",{className:"flex flex-row items-center bg-secondary-light responsive-input border border-border rounded",children:[e.jsx("img",{src:o,loading:"lazy",className:"responsive-icon select-none pointer-events-none padding-top-input",alt:"icon"}),e.jsx("input",{className:`flex-1 placeholder:text-light bg-transparent placeholder:font-heavy text-primary font-medium
				select-none padding-top-input ml:px-2 ms:px-1 outline-none placeholder:opacity-60`,placeholder:t,type:l?"password":"email",value:n,onChange:c})]});function g({className:o,children:l,onClick:t}){return e.jsx("button",{onClick:t,type:"submit",className:`
		border border-border select-none responsive-card-button padding-top-button ${o||""}
		bg-[rgb(183,170,156,12%)] transition-all duration-300 ease-in-out`,children:l})}const k="https://localhost/api/social-auth/login/intra42/",E="https://localhost/api/social-auth/login/google-oauth2/";function $({dialogRef:o,closeDialog:l,isSigningIn:t,setIsSigningIn:n}){const{email:c,password:f,confirmPassword:b}=u(),{login:j,register:v,setEmail:d,setPassword:m,setConfirmPassword:p}=u(),i=()=>{d(""),m(""),p("")},h=()=>{n(!t)};x.useEffect(()=>{i()},[t]),x.useEffect(()=>{const s=a=>{const r=o.current.getBoundingClientRect();(a.clientY<r.top||a.clientX<r.left||a.clientX>r.right||a.clientY>r.bottom)&&(i(),o.current.close())};return o.current&&o.current.addEventListener("mousedown",s),()=>{o.current&&o.current.removeEventListener("mousedown",s)}},[]);const N=[{id:"email",iconPath:"email",placeholder:"Email"},{id:"password",iconPath:"lock",placeholder:"Password"},{id:"confirmpassword",iconPath:"lock",placeholder:"Confirm your password"}],w=[{id:"google",iconPath:"google",alt:"google-logo",content:"Continue with Google"},{id:"42",iconPath:"42-logo",alt:"42-logo",content:"Continue with 42 Intra"}],y=s=>{const r={google:E,42:k}[s];r?window.location.href=r:console.error(`Unsupported OAuth provider: ${s}`)},P=s=>{s.preventDefault(),t?j():v()};return e.jsx("dialog",{id:"dialog",ref:o,className:`max-ml:mb-0 ml:w-card-custom max-w-full w-screen
			${t?"h-[570px]":"h-[600px]"}
			${t?"ml:h-signin-card-custom":"ml:h-signup-card-custom"} overflow-y-hidden
			ml:border-1.5 border border-b-0 border-primary rounded-md bg-secondary backdrop:bg-backdrop-40 backdrop:backdrop-blur-sm`,children:e.jsxs("div",{className:"m-2",children:[e.jsxs("div",{className:"relative w-full flex items-center",children:[e.jsx("img",{onClick:l,className:"absolute right-2 top-1 select-none close-button",src:"/assets/images/icons/close.png",loading:"lazy"}),e.jsx("div",{className:"card-separator h-0.5 flex-1"}),e.jsx("img",{className:"select-none pointer-events-none logo",src:"/assets/images/logo.webp",loading:"lazy"}),e.jsx("div",{className:"card-separator h-0.5 flex-1"})]}),e.jsxs("div",{className:"flex flex-col justify-center form-padding text-light font-heavy lp:mb-8 mb-5",children:[t?e.jsxs("div",{className:"w-full flex flex-col items-center welcome-message",children:[e.jsx("h1",{className:"sign-in-title",children:"Welcome back!"}),e.jsx("p",{className:"sign-in-phrases",children:"Sign in to access your dashboard."})]}):e.jsx("h1",{className:"sign-in-title text-center create-account",children:"Create New Account"}),e.jsxs("form",{className:"flex flex-col form-gap",onSubmit:P,children:[N.slice(0,t?2:3).map((s,a)=>e.jsx(C,{iconPath:`/assets/images/icons/${s.iconPath}.png`,placeholder:s.placeholder,value:a===0?c:a===1?f:b,type:a>0&&"password",onChange:r=>{a===0?d(r.target.value):a===1?m(r.target.value):p(r.target.value)}},a)),e.jsx(g,{className:"text-primary font-heavy rounded hover:bg-[rgb(183,170,156,30%)] ",children:t?e.jsx(e.Fragment,{children:"Sign in"}):e.jsx(e.Fragment,{children:"Sign up"})})]}),!t&&e.jsxs("p",{className:"sign-in-phrases text-light font-medium text-center",children:["Already have an account?",e.jsx("button",{onClick:h,className:"font-heavy text-primary pt-2 px-1.5",children:"Sign in"})]}),e.jsxs("div",{className:"flex flex-row items-center text-light or-separator",children:[e.jsx("div",{className:"card-separator h-0.5 flex-1"}),e.jsx("p",{className:"sign-in-phrases",children:"or"}),e.jsx("div",{className:"card-separator h-0.5 flex-1"})]}),e.jsxs("div",{className:"flex flex-col buttons-gap font-medium sign-in-phrases",children:[w.map((s,a)=>e.jsxs(g,{id:s.id,className:`
									text-secondary bg-primary flex flex-row items-center justify-center gap-2 rounded hover:scale-[1.03]
								`,onClick:()=>{i(),y(s.id)},children:[e.jsx("img",{src:`/assets/images/icons/${s.iconPath}.png`,className:"card-images",alt:s.alt,loading:"eager"}),e.jsx("p",{children:s.content})]},a)),t&&e.jsxs("p",{className:" text-light text-center",children:["Don't have an account?",e.jsx("button",{onClick:h,className:"font-heavy text-primary px-1.5",children:"Sign up"})]})]})]})]})})}export{$ as default};
